(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{20:function(e,t){e.exports=function(e,t,n,c){var a=fetch(e,t);return a.then((function(e){return e.json()})).then((function(e){"NOT AUTHORIZED"!==e.error?n(e):window.location.href="/login"})).catch((function(e){console.log(e),c(e)})),a}},26:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var c=n(27),a=n.n(c)()("public-7751:B-qa2-0-5f031cbe-0-302d021500890ef262296563accd1cb4aab790323d2fd570d30214510bcdacdaa4f03f59477eef13f2af5ad13e3044");function s(t,n,c){return new Promise((function(s,r){var i={currency:"USD",merchantRefNum:String(n),amount:100*t,billingAddress:{nickName:"John Dee",street:"20735 Stevens Creek Blvd",street2:"Montessori",city:"Cupertino",zip:"95014",country:"US",state:"CA"},environment:"TEST",customer:{firstName:"John",lastName:"Dee",email:"johndee@paysafe.com",phone:"1234567890",dateOfBirth:{day:1,month:7,year:1990}},displayPaymentMethods:["card"],paymentMethodDetails:{paysafecard:{consumerId:"object"==typeof c&&null!=c?c[Object.keys(c)[0]]:(new Date).getTime()}}};e.paysafe.checkout.setup(a,i,(function(e,t,n){return t?(r(t),!1):(n.merchantRefNum=i.merchantRefNum,n.amount=i.amount,n.currencyCode=i.currency,s(n))}),(function(e,t){return t&&r(new Error("Checkout expired")),!1}))}))}}).call(this,n(15))},33:function(e,t,n){},34:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n.n(a),r=n(24),i=n.n(r),o=(n(33),n(34),n(35),n(10)),l=n(2),d=n(6),u=n(8),j=n(7),m=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(c.jsxs)("nav",{className:"navbar sticky-top navbar-expand-md navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"/",children:"Go Fortnite!"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(c.jsx)("ul",{className:"navbar-nav mr-auto",children:e.props.links.map((function(e){return Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(o.c,{to:e.href,className:"nav-link",activeClassName:"active",children:e.name})},e.name)}))})})]})},e}return n}(s.a.Component),b=n(11),h=n.n(b),p=n(16),O=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(c.jsx)("div",{className:"row",children:e.props.items.map((function(e){return 0==e.price&&(e.price=100),Object(c.jsx)("div",{className:"col-lg-4 col-md-5 col-sm-6",children:Object(c.jsxs)("div",{className:"card my-2",children:[Object(c.jsx)("div",{className:"card-header",children:e.type}),Object(c.jsx)("img",{src:e.images.background,alt:e.name,className:"card-image-top image-fluid rounded",style:{height:"230px"}}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:e.name}),Object(c.jsx)("p",{className:"card-text",children:e.description}),Object(c.jsx)(o.b,{to:{pathname:"../cart",item:e},className:"btn btn-success",children:"Buy"}),Object(c.jsx)("p",{className:"float-right",children:"$"+e.price})]})]})},e.id)}))})},e}return n}(s.a.Component),g=new(n(41))("13fd547d-483005c8-d4944523-16cc9b95"),f=null;var x={backpack:"Back Pack",bannertoken:"Banner Token",bundle:"Bundle",contrail:"Contrail",cosmeticvariant:"Cosmetic Variant",emoji:"Emoji",emote:"Emote",glider:"Glider",loadingscreen:"Loading Screen",music:"Music",outfit:"Outfit",pet:"Pet",pickaxe:"Pick Axe",spray:"Spray",toy:"Toy",wrap:"Wrap"},v=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise(function(){var e=Object(p.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==f){e.next=4;break}return t(f),e.abrupt("return");case 4:return e.next=6,g.listItems();case 6:f=e.sent,t(f),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(f);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){a.setState({tabs:e.items})})).catch((function(e){a.setState({tabs:null})}));case 1:case"end":return e.stop()}}),e)}))),a.render=function(){return null==a.state.tabs?Object(c.jsx)("div",{className:"row"}):Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2",children:Object(c.jsx)("nav",{className:"nav navbar-dark bg-dark",children:Object(c.jsx)("ul",{className:"navbar-nav p-3 list-unstyled",children:Object.keys(a.state.tabs).map((function(e){return Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(o.c,{className:"nav-link",activeClassName:"active",to:a.props.path+"/"+e,children:[" ",null!=x[e]?x[e]:e," "]})},e)}))})})}),Object(c.jsx)("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:a.props.path,children:Object(c.jsx)(l.a,{to:a.props.path+"/"+Object.keys(a.state.tabs)[0]})}),Object(c.jsx)(l.b,{path:a.props.path+"/:tab",render:function(e){return Object(c.jsx)(O,{name:e.match.params.tab,items:a.state.tabs[e.match.params.tab]})}})]})})]})},a.state={tabs:null},a}return n}(s.a.Component),y=n(17),N=n(20),C=n(14),k=n(26),S=n(20),w=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location.item,t=a.state.cart;null!=e&&t.push(e),S("/api/customers",{method:"GET",headers:{"Content-Type":"application/json"}},(function(e){a.setState({cart:t,customer:e})}),(function(e){console.log(e)}))},a.removeItem=function(e){var t=a.state.cart.filter((function(t){return t.id!=e.id}));a.setState({cart:t,customer:a.state.customer})},a.placeOrder=function(e){S("/api/customers",{method:"GET",headers:{"Content-Type":"application/json"}},(function(t){Object(k.a)(e,(new Date).getTime(),t).then((function(e){return S("/api/payments/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},(function(e){console.log(e)}),(function(e){alert("Error while processing payment")})),!0}),(function(e){return console.log(e),alert("PaySafe checkout failed"),!1}))}),(function(e){console.log(e)}))},a.render=function(){var e=a.getCartDetails(),t=a.getOrderDetails(),n=a.getCustomerDetails();return Object(c.jsxs)("section",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-9 col-md-9 col-sm-12",children:e}),Object(c.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-12",children:t})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-lg-9 col-md-9 col-sm-12",children:n})})]})},a.getCartDetails=function(){var e=a.state.cart,t=e.map((function(e){return Object(c.jsx)("div",{className:"card my-2",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("img",{src:e.images.background,alt:e.name,className:"img-fluid",style:{width:"200px"}})}),Object(c.jsx)("div",{className:"col-5",children:Object(c.jsxs)("div",{className:"card-body",style:{height:"85%"},children:[Object(c.jsx)("h5",{className:"card-title",children:e.name}),Object(c.jsxs)("section",{className:"card-text",children:[Object(c.jsx)("p",{children:e.description}),Object(c.jsx)("p",{children:Object(c.jsxs)("b",{children:[e.type," (type)"]})})]})]})}),Object(c.jsxs)("div",{className:"col-3 text-right",children:[Object(c.jsx)("p",{className:"card-text p-4 align-bottom",children:Object(c.jsx)("big",{className:"text-muted",children:"$"+e.price})}),Object(c.jsx)("button",{className:"btn btn-danger btn-sm m-4",onClick:a.removeItem.bind(Object(C.a)(a),e),children:"\u2717"})]})]})},e.id)}));return 0==e.length&&(t=Object(c.jsx)("h2",{className:"text-muted text-center p-4",children:"Your cart is empty!"})),t},a.getOrderDetails=function(){var e=0;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("table",{className:"table my-2",style:{height:"70%"},children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Item"}),Object(c.jsx)("th",{className:"text-right",children:"Cost"})]})}),Object(c.jsx)("tbody",{children:a.state.cart.map((function(t){return e+=t.price,Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{className:"text-right",children:"$"+t.price})]},t.id)}))}),Object(c.jsx)("tfoot",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{children:"Total"})}),Object(c.jsx)("td",{className:"text-right",children:"$"+e})]})})]}),Object(c.jsx)("div",{className:"text-right",children:Object(c.jsx)("button",{className:"btn btn-sm btn-outline-success m-1"+(0==a.state.cart.length||null==a.state.customer||"validated"!==a.state.customer.validation?" disabled":""),onClick:0==a.state.cart.length||null==a.state.customer||"validated"!==a.state.customer.validation?null:a.placeOrder.bind(Object(C.a)(a),e),children:"Place Order"})})]})},a.getCustomerDetails=function(){if(null==a.state.customer)return Object(c.jsx)("h5",{children:"Create Address"});var e="";return"success"!==a.state.customer.validation&&(e=Object(c.jsx)("small",{className:"text-danger p-1",children:Object(c.jsx)("b",{children:"\u26a0 Specify your right address"})})),Object(c.jsxs)("section",{children:[e,Object(c.jsx)("h5",{children:"Address Details"})]})};var s=[];return null!=e.cart&&Array.isArray(e.cart)&&(s=e.cart),a.state={cart:s,customer:null},a}return n}(s.a.Component),T=[{name:"Home",href:"/home",route:v},{name:"My Cart",href:"/cart",route:Object(l.h)(w)},{name:"Logout",href:"/logout",route:function(){var e=Object(y.useGoogleLogout)({clientId:"584685314295-m141d4bsqmmc15qq9mc7lfbfmrosng8i.apps.googleusercontent.com",onLogoutSuccess:function(){N("/api/sessions",{method:"DELETE",headers:{"Content-Type":"application/json"}},(function(e){var t=Object(l.g)();console.log(t),t.push("/login")}),(function(e){console.log(e)}))}}),t=e.signOut;return e.loaded&&t(),Object(c.jsx)("div",{})}}],D=(n(53),n(20)),I=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).googleLoggedInSuccess=function(e){var t=e.getBasicProfile(),n={name:t.getName(),email:t.getEmail(),image:t.getImageUrl(),token:e.getAuthResponse().id_token,fromGoogle:!0};D("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},(function(e){a.setState({loggedIn:!0,redirect:a.props.home})}),(function(e){console.log(e)}))},a.googleLoggedInFailed=function(){alert("Unable to login with google. Try other login methods")},a.dummyLogin=function(){D("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})},(function(e){alert("Dummy signed in")}),(function(e){console.log(e)}))},a.render=function(){return a.state.redirect?Object(c.jsx)(l.a,{to:a.state.redirect}):Object(c.jsx)("div",{children:Object(c.jsx)(y.GoogleLogin,{className:"mr-2",clientId:"584685314295-m141d4bsqmmc15qq9mc7lfbfmrosng8i.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:a.googleLoggedInSuccess,onFailure:a.googleLoggedInFailed,isSignedIn:!0})})},a.state={loggedIn:!1},a}return n}(s.a.Component),P=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).render=function(){return Object(c.jsxs)("div",{className:"container py-5",style:{top:"auto"},children:[Object(c.jsx)("h2",{className:"text-center p-5",children:"Welcome to Fortnite Store!"}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col text-center my-auto",children:Object(c.jsx)(I,{home:e.props.home})})})]})},e}return n}(s.a.Component);var E=function(){return Object(c.jsx)(o.a,{children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/login",children:Object(c.jsx)(P,{home:"/home"})}),T.map((function(e){return Object(c.jsxs)(l.b,{path:e.href,children:[Object(c.jsx)(m,{links:T}),Object(c.jsx)(e.route,{path:e.href})]},e.name)})),Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(l.a,{to:"/home"})})]})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),L()}},[[56,1,2]]]);
//# sourceMappingURL=main.96e1ec76.chunk.js.map