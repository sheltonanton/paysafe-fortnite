(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var c=n(26),a=n.n(c)()("public-7751:B-qa2-0-5f031cbe-0-302d021500890ef262296563accd1cb4aab790323d2fd570d30214510bcdacdaa4f03f59477eef13f2af5ad13e3044");function r(t,n){return new Promise((function(c,r){var s={currency:"USD",merchantRefNum:String(n),amount:100*t,billingAddress:{nickName:"John Dee",street:"20735 Stevens Creek Blvd",street2:"Montessori",city:"Cupertino",zip:"95014",country:"US",state:"CA"},environment:"TEST",customer:{firstName:"John",lastName:"Dee",email:"johndee@paysafe.com",phone:"1234567890",dateOfBirth:{day:1,month:7,year:1990}},displayPaymentMethods:["card"],paymentMethodDetails:{paysafecard:{consumerId:"1"}}};e.paysafe.checkout.setup(a,s,(function(e,t,n){t?r(t):(n.merchantRefNum=s.merchantRefNum,n.amount=s.amount,n.currencyCode=s.currency,c(n))}),(function(e,t){t&&r(new Error("Checkout expired")),console.log(e)}))}))}}).call(this,n(15))},32:function(e,t,n){},33:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(23),i=n.n(s),o=(n(32),n(33),n(34),n(10)),l=n(2),d=n(6),j=n(8),u=n(7),m=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).render=function(){return Object(c.jsxs)("nav",{className:"navbar sticky-top navbar-expand-md navbar-light bg-light",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"/",children:"Go Fortnite!"}),Object(c.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})}),Object(c.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(c.jsx)("ul",{className:"navbar-nav mr-auto",children:e.props.links.map((function(e){return Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsx)(o.c,{to:e.href,className:"nav-link",activeClassName:"active",children:e.name})},e.name)}))})})]})},e}return n}(r.a.Component),h=n(11),b=n.n(h),p=n(16),O=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).render=function(){return Object(c.jsx)("div",{className:"row",children:e.props.items.map((function(e){return 0==e.price&&(e.price=100),Object(c.jsx)("div",{className:"col-lg-4 col-md-5 col-sm-6",children:Object(c.jsxs)("div",{className:"card my-2",children:[Object(c.jsx)("div",{className:"card-header",children:e.type}),Object(c.jsx)("img",{src:e.images.background,alt:e.name,className:"card-image-top image-fluid rounded",style:{height:"230px"}}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h5",{className:"card-title",children:e.name}),Object(c.jsx)("p",{className:"card-text",children:e.description}),Object(c.jsx)(o.b,{to:{pathname:"../cart",item:e},className:"btn btn-success",children:"Buy"}),Object(c.jsx)("p",{className:"float-right",children:"$"+e.price})]})]})},e.id)}))})},e}return n}(r.a.Component),f=new(n(40))("13fd547d-483005c8-d4944523-16cc9b95"),g=null;var x={backpack:"Back Pack",bannertoken:"Banner Token",bundle:"Bundle",contrail:"Contrail",cosmeticvariant:"Cosmetic Variant",emoji:"Emoji",emote:"Emote",glider:"Glider",loadingscreen:"Loading Screen",music:"Music",outfit:"Outfit",pet:"Pet",pickaxe:"Pick Axe",spray:"Spray",toy:"Toy",wrap:"Wrap"},v=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).componentDidMount=Object(p.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Promise(function(){var e=Object(p.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==g){e.next=4;break}return t(g),e.abrupt("return");case 4:return e.next=6,f.listItems();case 6:g=e.sent,t(g),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n(g);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()).then((function(e){a.setState({tabs:e.items})})).catch((function(e){a.setState({tabs:null})}));case 1:case"end":return e.stop()}}),e)}))),a.render=function(){return null==a.state.tabs?Object(c.jsx)("div",{className:"row"}):Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-sm-12 col-md-3 col-lg-2 col-xl-2",children:Object(c.jsx)("nav",{className:"nav navbar-dark bg-dark",children:Object(c.jsx)("ul",{className:"navbar-nav p-3 list-unstyled",children:Object.keys(a.state.tabs).map((function(e){return Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(o.c,{className:"nav-link",activeClassName:"active",to:a.props.path+"/"+e,children:[" ",null!=x[e]?x[e]:e," "]})},e)}))})})}),Object(c.jsx)("div",{className:"col-sm-12 col-md-9 col-lg-10 col-xl-10",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:a.props.path,children:Object(c.jsx)(l.a,{to:a.props.path+"/"+Object.keys(a.state.tabs)[0]})}),Object(c.jsx)(l.b,{path:a.props.path+"/:tab",render:function(e){return Object(c.jsx)(O,{name:e.match.params.tab,items:a.state.tabs[e.match.params.tab]})}})]})})]})},a.state={tabs:null},a}return n}(r.a.Component),y=n(17),N=n(14),k=n(25),S=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(d.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=a.props.location.item;if(null!=e){var t=a.state.cart;t.push(e),a.setState({cart:t})}},a.removeItem=function(e){var t=a.state.cart.filter((function(t){return t.id!=e.id}));a.setState({cart:t})},a.placeOrder=function(e){Object(k.a)(e,(new Date).getTime()).then((function(e){fetch("/api/payments/",{method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){alert("Error while processing payment")}))})).catch((function(e){console.log(e),alert("PaySafe checkout failed")}))},a.render=function(){var e=a.state.cart,t=e.map((function(e){return Object(c.jsx)("div",{className:"card my-2",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-4",children:Object(c.jsx)("img",{src:e.images.background,alt:e.name,className:"img-fluid",style:{width:"200px"}})}),Object(c.jsx)("div",{className:"col-5",children:Object(c.jsxs)("div",{className:"card-body",style:{height:"85%"},children:[Object(c.jsx)("h5",{className:"card-title",children:e.name}),Object(c.jsxs)("section",{className:"card-text",children:[Object(c.jsx)("p",{children:e.description}),Object(c.jsx)("p",{children:Object(c.jsxs)("b",{children:[e.type," (type)"]})})]})]})}),Object(c.jsxs)("div",{className:"col-3 text-right",children:[Object(c.jsx)("p",{className:"card-text p-4 align-bottom",children:Object(c.jsx)("big",{className:"text-muted",children:"$"+e.price})}),Object(c.jsx)("button",{className:"btn btn-danger btn-sm m-4",onClick:a.removeItem.bind(Object(N.a)(a),e),children:"\u2717"})]})]})},e.id)})),n=0,r=Object(c.jsxs)("table",{className:"table my-2",style:{height:"70%"},children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Item"}),Object(c.jsx)("th",{className:"text-right",children:"Cost"})]})}),Object(c.jsx)("tbody",{children:a.state.cart.map((function(e){return n+=e.price,Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{className:"text-right",children:"$"+e.price})]},e.id)}))}),Object(c.jsxs)("tfoot",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("i",{children:"Total"})}),Object(c.jsx)("td",{className:"text-right",children:"$"+n})]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{}),Object(c.jsx)("td",{className:"text-right",children:Object(c.jsx)("button",{className:"btn btn-outline-success"+(0==e.length?" disabled":""),onClick:a.placeOrder.bind(Object(N.a)(a),n),children:"Place Order"})})]})]})]});return 0==e.length&&(t=Object(c.jsx)("h2",{className:"text-muted text-center p-4",children:"Your cart is empty!"})),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-9 col-md-9 col-sm-12",children:t}),Object(c.jsx)("div",{className:"col-lg-3 col-md-3 col-sm-12",children:r})]})};var r=[];return null!=e.cart&&Array.isArray(e.cart)&&(r=e.cart),a.state={cart:r},a}return n}(r.a.Component),C=[{name:"Home",href:"/home",route:v},{name:"My Cart",href:"/cart",route:Object(l.h)(S)},{name:"Logout",href:"/logout",route:function(){var e=Object(y.useGoogleLogout)({clientId:"584685314295-m141d4bsqmmc15qq9mc7lfbfmrosng8i.apps.googleusercontent.com",onLogoutSuccess:function(){fetch("/api/sessions",{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=Object(l.g)();console.log(t),t.push("/login")})).catch((function(e){console.log(e)}))}}),t=e.signOut;return e.loaded&&t(),Object(c.jsx)("h2",{children:"Logged Out"})}}],w=(n(52),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).googleLoggedInSuccess=function(e){var t=e.getBasicProfile(),n={name:t.getName(),email:t.getEmail(),image:t.getImageUrl(),token:e.getAuthResponse().id_token,fromGoogle:!0};fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){a.setState({loggedIn:!0,redirect:a.props.home})})).catch((function(e){console.log(e)}))},a.googleLoggedInFailed=function(){alert("Unable to login with google. Try other login methods")},a.dummyLogin=function(){fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})}).then((function(e){return e.json()})).then((function(e){alert("Dummy signed in")})).catch((function(e){console.log(e)}))},a.render=function(){return a.state.redirect?Object(c.jsx)(l.a,{to:a.state.redirect}):Object(c.jsx)("div",{children:Object(c.jsx)(y.GoogleLogin,{className:"mr-2",clientId:"584685314295-m141d4bsqmmc15qq9mc7lfbfmrosng8i.apps.googleusercontent.com",buttonText:"Sign in with Google",onSuccess:a.googleLoggedInSuccess,onFailure:a.googleLoggedInFailed,isSignedIn:!0})})},a.state={loggedIn:!1},a}return n}(r.a.Component)),T=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).render=function(){return Object(c.jsxs)("div",{className:"container py-5",style:{top:"auto"},children:[Object(c.jsx)("h2",{className:"text-center p-5",children:"Welcome to Fortnite Store!"}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col text-center my-auto",children:Object(c.jsx)(w,{home:e.props.home})})})]})},e}return n}(r.a.Component);var I=function(){return Object(c.jsx)(o.a,{children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/login",children:Object(c.jsx)(T,{home:"/home"})}),C.map((function(e){return Object(c.jsxs)(l.b,{path:e.href,children:[Object(c.jsx)(m,{links:C}),Object(c.jsx)(e.route,{path:e.href})]},e.name)})),Object(c.jsx)(l.b,{exact:!0,path:"/",children:Object(c.jsx)(l.a,{to:"/home"})})]})})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(I,{})}),document.getElementById("root")),L()}},[[55,1,2]]]);
//# sourceMappingURL=main.419a7f05.chunk.js.map